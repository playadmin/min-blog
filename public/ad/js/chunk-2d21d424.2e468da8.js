(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d424"],{d112:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"content"},[e("h2",{staticClass:"center"},[s._v("个人设置")]),e("b-tab",{ref:"form",model:{value:s.tab,callback:function(t){s.tab=t},expression:"tab"}},[e("div",{key:1,staticStyle:{padding:".6rem 0"},attrs:{title:"账号设置"}},[e("div",{staticClass:"field inline",staticStyle:{"margin-right":".4rem"}},[e("div",{staticClass:"input-group"},[e("span",[s._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.loginid,expression:"user.loginid"}],attrs:{disabled:!s.chAccount,name:"loginid",type:"text",placeholder:"登录账号"},domProps:{value:s.user.loginid},on:{input:function(t){t.target.composing||s.$set(s.user,"loginid",t.target.value)}}})]),e("p",{staticClass:"msg"})]),e("div",{staticClass:"field inline"},[e("label",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chAccount,expression:"chAccount"}],attrs:{name:"loginid",type:"checkbox"},domProps:{checked:Array.isArray(s.chAccount)?s._i(s.chAccount,null)>-1:s.chAccount},on:{change:function(t){var e=s.chAccount,a=t.target,i=!!a.checked;if(Array.isArray(e)){var n=null,l=s._i(e,n);a.checked?l<0&&(s.chAccount=e.concat([n])):l>-1&&(s.chAccount=e.slice(0,l).concat(e.slice(l+1)))}else s.chAccount=i}}}),s._v(" 修改登录账号 ")])]),e("div",{staticClass:"field"},[e("div",{staticClass:"input-group"},[e("span",[s._v("昵称")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.nickname,expression:"user.nickname"}],attrs:{name:"nickname",placeholder:"昵称"},domProps:{value:s.user.nickname},on:{input:function(t){t.target.composing||s.$set(s.user,"nickname",t.target.value)}}})]),e("p",{staticClass:"msg"})]),e("div",{staticClass:"field"},[e("div",{staticClass:"input-group"},[e("span",[s._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.email,expression:"user.email"}],attrs:{name:"email",autocomplete:"off",placeholder:"Email"},domProps:{value:s.user.email},on:{input:function(t){t.target.composing||s.$set(s.user,"email",t.target.value)}}})]),e("p",{staticClass:"msg"})]),e("div",{staticClass:"field"},[e("button",{staticClass:"w100",on:{click:s.submit}},[s._v("修 改 账 号")])])]),e("div",{key:2,staticStyle:{padding:".6rem 0"},attrs:{title:"修改密码"}},[e("div",{staticClass:"field"},[e("div",{staticClass:"input-group"},[e("span",[s._v("原密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.passwd.org,expression:"passwd.org"}],attrs:{name:"org",type:"password",placeholder:"原密码"},domProps:{value:s.passwd.org},on:{input:function(t){t.target.composing||s.$set(s.passwd,"org",t.target.value)}}})]),e("p",{staticClass:"msg"})]),e("div",{staticClass:"field"},[e("div",{staticClass:"input-group"},[e("span",[s._v("新密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.passwd.passwd,expression:"passwd.passwd"}],attrs:{name:"passwd",type:"password",placeholder:"新密码"},domProps:{value:s.passwd.passwd},on:{input:function(t){t.target.composing||s.$set(s.passwd,"passwd",t.target.value)}}})]),e("p",{staticClass:"msg"})]),e("div",{staticClass:"field"},[e("div",{staticClass:"input-group"},[e("span",[s._v("确认新密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.passwd.repasswd,expression:"passwd.repasswd"}],attrs:{name:"repasswd",type:"password",placeholder:"确认新密码"},domProps:{value:s.passwd.repasswd},on:{input:function(t){t.target.composing||s.$set(s.passwd,"repasswd",t.target.value)}}})]),e("p",{staticClass:"msg"})]),e("div",{staticClass:"field"},[e("button",{staticClass:"w100",on:{click:s.submit}},[s._v("修 改 密 码")])])])])],1)])},i=[],n=(e("ac1f"),e("5319"),e("fa81")),l=e.n(n),r=e("01ac"),c=(e("a9e3"),e("14b1")),o=e.n(c),u=e("2638"),d=e.n(u),p={props:{value:[Number,String],bar:Array},methods:{emit:function(s,t){this.$emit("input",s),this.$emit("change",s,t)}},computed:{tabBar:function(){var s,t=this,e=this.$createElement;if(this.bar&&this.bar.length)return o()(s=l()(this.bar)).call(s,(function(s){var a=void 0===t.bar[s].key?s:t.bar[s].key,i=t.bar[s].title,n=a===t.value?"tab-tag active":"tab-tag";return e("div",{class:n,on:{click:function(){return t.emit(a,t.value)}}},[i])}));var a,i=[];return o()(a=this.$slots.default).call(a,(function(s,a){var n=void 0===s.key?a:s.key,l=s.data.attrs.title,r=n===t.value?"tab-tag active":"tab-tag";i.push(e("div",{class:r,on:{click:function(){return t.emit(n,t.value)}}},[l]))})),i}},render:function(){var s,t=this,e=arguments[0];return e("div",{class:"tab"},[this.$slots.bar||e("div",{class:"tab-bar"},[this.tabBar]),o()(s=this.$slots.default).call(s,(function(s){var a={class:"tab-item "+(s.data.staticClass||""),style:s.data.staticStyle};return e("div",d()([{},a,{directives:[{name:"show",value:t.value===s.key}]}]),[s.children])}))])}},m=e("c24f"),v={components:{"b-tab":p},data:function(){var s=this;return{tab:1,chAccount:!1,valid:{},user:{},passwd:{},validMsg:{},validRules:{loginid:[{type:"len",rule:[5,32],msg:"5-32个字符"}],username:[{type:"len",rule:[5,16],msg:"5-16个字符"}],nickname:[{type:"len",rule:[2,32],msg:"2-32个字符"}],email:[{type:"email",rule:!1,msg:"请输入正确的Email"}],org:[{type:"len",rule:[5,16],msg:"5-16个字符"}],passwd:[{type:"len",rule:[5,16],msg:"5-16个字符"}],repasswd:[{rule:function(t){return!s.passwd.passwd||t===s.passwd.passwd},msg:"确认密码不正确"}]}}},created:function(){this.user={loginid:this.info.loginid,nickname:this.info.nickname,email:this.info.email}},mounted:function(){this.valid=new r["a"](this.validRules,this.$refs.form.$el)},computed:{info:function(){return this.$store.state.user.info}},methods:{setPassword:m["f"],setInfo:m["e"],submit:function(){var s=this;if(1===this.tab){var t={nickname:this.user.nickname,email:this.user.email};if(this.chAccount&&(t.loginid=this.user.loginid),!this.valid.all(l()(t)))return;Object(m["e"])(t).then((function(e){e.msg&&s.$Notice(e.msg),200===e.status&&(e.url?s.$router.replace(e.url):s.$store.commit("USER_UPDATE_INFO",t))}))}else{var e={org:this.passwd.org,passwd:this.passwd.passwd,repasswd:this.passwd.repasswd};if(!this.valid.all(l()(e)))return;Object(m["f"])(e).then((function(t){200===t.status&&(t.msg&&s.$Notice(t.msg),s.$router.replace(t.url||"/login"))}))}}}},g=v,h=e("2877"),f=Object(h["a"])(g,a,i,!1,null,null,null);t["default"]=f.exports}}]);